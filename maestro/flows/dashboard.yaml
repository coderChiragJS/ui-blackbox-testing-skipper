appId: com.skipper11.android
---
# Dashboard Smoke Test - Maestro Version
# Replicates: test/specs/smoke/dashboard.smoke.test.js

- launchApp
- runFlow: ../config/setup.yaml

# Step 1: Check if already logged in, if not perform login
# First check if we're already on dashboard
- extendedWaitUntil:
    visible:
      text: "Upcoming Matches"
    timeout: 2000
    optional: true

# If login screen is visible, perform login
- tapOn:
    text: "ðŸ‡ºðŸ‡¸\n+1"
    optional: true
- tapOn:
    text: "ðŸ‡®ðŸ‡³\n+91"
    optional: true
- tapOn:
    text: "Enter phone number"
    optional: true
- inputText: "9993297888"
- tapOn:
    text: " Enter Password"
    optional: true
- inputText: "test@123"
- tapOn:
    point: "186,2393"
    optional: true
- tapOn:
    text: "Continue"
    optional: true
- waitForAnimationToEnd:
    timeout: 5000

# Step 2: Wait 10 seconds on dashboard (matching original test exactly)
- waitForAnimationToEnd:
    timeout: 10000
- takeScreenshot: dashboard_after_10_seconds

# Step 3: Look for "Upcoming Matches" text with multiple strategies
- assertVisible:
    text: "Upcoming Matches"
- takeScreenshot: upcoming_matches_found

# Step 4: Find and click on first match card
# Try multiple strategies to find clickable match cards
- tapOn:
    text: ".*IND.*vs.*UAE.*"
- takeScreenshot: match_card_clicked

# Step 5: Verify navigation to match details screen
# Check for various indicators that we've navigated away from dashboard
- extendedWaitUntil:
    visible:
      text: "CREATE TEAM"
    timeout: 5000
    optional: true

# Alternative verification - check if dashboard elements are gone
- extendedWaitUntil:
    notVisible:
      text: "Upcoming"
    timeout: 3000
    optional: true

# Final verification screenshot
- takeScreenshot: match_details_screen_opened
